---
- name: API Environment Testing Setup
  hosts: localhost
  vars:
    username: marcus-kielman
    repo_name: devops_api
  tasks:
    - name: Install MariaDB Dependencies
      become: yes
      apt: 
        pkg:
          - libmariadb3
          - libmariadb-dev
        state: present
    - name: Install Python Dependencies
      shell: |
        pip install docker
        pip install -- update wheel 
        pip install -- update setuptools
        pip install -r requirements.txt
    - name: Build Docker Image
      docker_image:
        build:
          path: ./
        name: marcuskielman/devops_api
        tag: v0.0.1
        source: build

      